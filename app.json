{
  "id": "com.gruijter.clusterlights",
  "version": "0.4.0",
  "compatibility": ">=1.5.0",
  "sdk": 2,
  "permissions": [
    "homey:wireless:ble"
  ],
  "name": {
    "en": "BLE Christmas Clusterlights"
  },
  "description": {
    "en": "Homey app for bluetooth LED cluster lights",
    "nl": "Homey app voor bluetooth LED clusterverlichting"
  },
  "category": [
    "lights"
  ],
  "tags": {
    "en": [ "christmas", "xmas", "led", "lights", "cluster", "bluetooth", "BLE" ],
    "nl": [ "kerst", "kerstmis", "led", "verlichting", "cluster", "bluetooth", "BLE"]
  },
  "images": {
    "large": "/assets/images/large.jpg",
    "small": "/assets/images/small.jpg"
  },
  "author": {
    "name": "Robin Gruijter",
    "email": "gruijter@hotmail.com"
  },
  "copyright": "Robin de Gruijter (gruijter@hotmail.com)",
  "license": " GPL-3.0-or-later",
  "contributing": {
    "donate": {
      "paypal": {
        "username": "gruijter"
      }
    }
  },
  "bugs": {
  "url": "https://github.com/gruijter/com.gruijter.clusterlights/issues"
  },
  "homeyCommunityTopicId": 4839,
  "gtin": ["8719632923589", "8719202334944", "8800159746246", "8719202336085"],
  "capabilities": {
    "mode": {
      "type": "enum",
      "title": {
        "en": "mode",
        "nl": "effect"
      },
      "desc": {
        "en": "Mode of the light",
        "nl": "licht effect"
      },
      "values": [
        {
          "id": "wave",
          "title": {
            "en": "wave",
            "nl": "golven"
          }
        },
        {
          "id": "phase",
          "title": {
            "en": "phase",
            "nl": "faseren"
          }
        },
        {
          "id": "phasedFadeAway",
          "title": {
            "en": "phased fade",
            "nl": "fase vervagen"
          }
        },
        {
          "id": "phasedTwinkle",
          "title": {
            "en": "phased twinkle",
            "nl": "fase twinkel"
          }
        },
        {
          "id": "fadeAway",
          "title": {
            "en": "fade away",
            "nl": "vervagen"
          }
        },
        {
          "id": "fastTwinkle",
          "title": {
            "en": "fast Twinkle",
            "nl": "snel twinkel"
          }
        },
        {
          "id": "stayOn",
          "title": {
            "en": "stay on",
            "nl": "continu aan"
          }
        }
      ],
      "getable": true,
      "setable": true
    }
  },
  "drivers": [
    {
      "id": "cluster_light",
      "name": {
        "en": "Cluster light",
        "nl": "Cluster light"
      },
      "images": {
        "large": "drivers/cluster_light/assets/images/large.jpg",
        "small": "drivers/cluster_light/assets/images/small.jpg"
       },
      "class": "light",
      "capabilities": [ "onoff", "dim", "mode" ],
      "capabilitiesOptions": {
				"mode": {
          "title": {
            "en": "mode",
            "nl": "effect"
          },
          "showTitle": true
				}
			},
      "mobile": {
        "components": [
          {
            "id": "icon",
            "capabilities": [ "onoff"]
          },
          {
            "id": "slider",
            "capabilities": [ "dim" ]
          },
          {
            "id": "picker",
            "capabilities": [ "mode" ],
            "options": {
              "title": {
                "en": "mode",
                "nl": "effect"
              },
              "showTitle": true
            }
          }
        ]
      },
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_devices"
          }
        },
        {
          "id": "add_devices",
          "template": "add_devices"
        }
      ],
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "Random mode",
            "nl": "Willekeurig effect"
          },
          "children": [
            {
              "id": "wave",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Wave",
                "nl": "Golven"
              }
            },
            {
              "id": "phase",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Phase",
                "nl": "Faseren"
              }
            },
            {
              "id": "phasedFadeAway",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Phased fade",
                "nl": "Fase vervagen"
              }
            },
            {
              "id": "phasedTwinkle",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Phased twinkle",
                "nl": "fase twinkel"
              }
            },
            {
              "id": "fadeAway",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Fade away",
                "nl": "Vervagen"
              }
            },
            {
              "id": "fastTwinkle",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Fast Twinkle",
                "nl": "Snel twinkel"
              }
            },
            {
              "id": "stayOn",
              "type": "checkbox",
              "value": true,
              "label": {
                "en": "Stay on",
                "nl": "Continu aan"
              }
            }
          ]
        }
      ]
    }
  ],
	"flow": {
    "triggers": [
      {
        "id": "mode_changed",
        "title": {
          "en": "Mode changed",
          "nl": "Effect veranderd"
        },
        "args": [
          {
            "name": "cluster_light",
            "type": "device",
            "filter": "driver_id=cluster_light"
          }
        ],
        "tokens": [
          {
            "name": "mode",
            "type": "string",
            "title": {
              "en": "mode",
              "nl": "effect"
            },
            "example": "twinkle"
          }
        ]
      }
    ],
		"actions": [
      {
        "id": "change_random_mode",
        "title": {
          "en": "Random mode",
          "nl": "Willekeurig effect"
        },
        "args": [
          {
            "name": "cluster_light",
            "type": "device",
            "filter": "driver_id=cluster_light"
          }
        ]
      },
      {
        "id": "change_mode",
        "title": {
          "en": "Mode",
          "nl": "Effect"
        },
        "args": [
          {
            "name": "cluster_light",
            "type": "device",
            "filter": "driver_id=cluster_light"
          },
          {
            "name": "mode_dropdown",
            "type": "dropdown",
            "values": [
              {
                "id": "wave",
                "label": {
                  "en": "Wave",
                  "nl": "Golven"
                }
              },
              {
                "id": "phase",
                "label": {
                  "en": "Phase",
                  "nl": "Faseren"
                }
              },
              {
                "id": "phasedFadeAway",
                "label": {
                  "en": "Phased fade",
                  "nl": "Fase vervagen"
                }
              },
              {
                "id": "phasedTwinkle",
                "label": {
                  "en": "Phased twinkle",
                  "nl": "fase twinkel"
                }
              },
              {
                "id": "fadeAway",
                "label": {
                  "en": "Fade away",
                  "nl": "Vervagen"
                }
              },
              {
                "id": "fastTwinkle",
                "label": {
                  "en": "Fast Twinkle",
                  "nl": "Snel twinkel"
                }
              },
              {
                "id": "stayOn",
                "label": {
                  "en": "Stay on",
                  "nl": "Continu aan"
                }
              }
            ]
          }
        ]
      }
		]
	}
}
